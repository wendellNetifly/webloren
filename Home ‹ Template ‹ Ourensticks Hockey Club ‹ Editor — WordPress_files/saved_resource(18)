( function( $ ) {
	var recordTracksEvent = function( eventName, properties ) {
		_tkq = window._tkq || [];
		_tkq.push( [ 'recordEvent', eventName, ( typeof properties === 'object' ) ? properties : {} ] );
	};

	$( document ).ready( function () {
		var helpTabShown = false, livechatClicked = false;
		$( '#contextual-help-link' ).click( function() {
			var showHide;

			if( $( '#contextual-help-link' ).hasClass( 'screen-meta-active' ) ) {
				showHide = 'hide';
			}
			else {
				showHide = 'show';

				if ( ! helpTabShown ) {
					recordTracksEvent( 'wpadmin_help_tab_view' );
					helpTabShown = true;
				}
			}

			$.post( ajaxurl, {
				action: 'admin_help_click',
				value:  showHide,
				nonce:  WpcomTrackAdminHelpL10n.nonce
			},
			function( response ) {
				// Nothing to see here.
			} );
		} );

		$( '#tab-link-wpcom-feedback > a' ).one( 'click', function( e ) {
			recordTracksEvent( 'wpadmin_get_help_section_view' );
		} );

	} );
} )( jQuery );
;
(()=>{"use strict";var e={18950:(e,t,o)=>{var n=o(75795);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},92299:(e,t,o)=>{o.d(t,{k:()=>n});const n=(e,t={},o=null,n=null)=>{const a=window.JP_CONNECTION_INITIAL_STATE?.userConnectionData?.currentUser??{},r=o??a.id,d=n??a.username,i=t.blogId??a.blogId;window._tkq=window._tkq||[],d&&r&&window._tkq.push(["identifyUser",r,d]),window._tkq.push(["recordEvent",e,{...t,blog_id:i}])}},97374:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(27723),a=o(13022),r=o(51609),d=o(92299);const __=n.__,i=({ajaxUrl:e,action:t,nonce:o,page:n})=>{const[i,c]=(0,r.useState)(""),[p,l]=(0,r.useState)(!1),[s,u]=(0,r.useState)(!1),w=(0,r.useMemo)((()=>!!("media-new"===n&&document.getElementById("media-items")&&window.fileQueued&&window.uploadSuccess&&window.uploadError)),[n]),m=e=>{c(e.target.value)},f=async a=>{if(s)return!1;try{new URL(i)}catch{return!1}a.preventDefault(),(0,d.k)("wpcom_media_upload_from_url_submit",{page:n});const r={id:Date.now(),name:new URL(i).pathname.split("/").pop()};(e=>{u(!0),w&&window.fileQueued(e)})(r);return((e,{success:t,data:o})=>{w?t?(window.uploadSuccess(e,o.attachment_id),u(!1),c("")):(window.uploadError(e),u(!1)):t?window.wp.media.model.Attachment.get(o.attachment_id).fetch({success:function(e){const t=e=>{(window.wp.media.frame.controller||window.wp.media.frame).content.get().collection.add(e)};if("editor"===n){const o=window.wp.media.frame.state("library");o.trigger("open"),t(e);const n=o.get("selection");n.reset(),n.add([e])}else t(e);u(!1),c("")}}):(u(!1),window.wp.Uploader.errors.add({file:{name:i},message:o[0].message}))})(r,await(async()=>{const n=new FormData;n.append("action",t),n.append("url",i),n.append("_ajax_nonce",o);const a=await fetch(e,{method:"POST",body:n});return await a.json()})()),!1};return React.createElement("div",{className:"wpcom-media-url-upload-form"},React.createElement("a",{className:"wpcom-media-url-upload-form__link button-link",href:"#",onClick:e=>{e.preventDefault(),l((e=>!e))}},__("Upload from URL","jetpack-mu-wpcom")),p&&(()=>{let e=__("Upload","jetpack-mu-wpcom");return s&&(e=__("Uploadingâ€¦","jetpack-mu-wpcom")),React.createElement("form",{onSubmit:f},React.createElement("input",{type:"url",value:i,onChange:m,placeholder:__("Enter media URL","jetpack-mu-wpcom"),required:!0,readOnly:s}),React.createElement("button",{type:"submit",className:(0,a.A)("button","button-primary",{"updating-message":s}),readOnly:s},e))})())}},51609:e=>{e.exports=window.React},75795:e=>{e.exports=window.ReactDOM},27723:e=>{e.exports=window.wp.i18n},13022:(e,t,o)=>{function n(e){var t,o,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(o=n(e[t]))&&(a&&(a+=" "),a+=o)}else for(o in e)e[o]&&(a&&(a+=" "),a+=o);return a}o.d(t,{A:()=>a});const a=function(){for(var e,t,o=0,a="",r=arguments.length;o<r;o++)(e=arguments[o])&&(t=n(e))&&(a&&(a+=" "),a+=t);return a}}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n=o(51609),a=o.n(n),r=o(18950),d=o(97374);const i="object"==typeof window?window.JETPACK_MU_WPCOM_MEDIA_URL_UPLOAD:{},c="plupload-upload-ui",p="plupload-browse-button",l="wpcom-media-url-upload",s=()=>{const e=document.getElementById(l);if(e){r.createRoot(e).render(a().createElement(d.A,i))}};document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById(c),t=document.getElementById(p);if(e&&t){e.classList.contains("has-wpcom-media-url-upload")||e.classList.add("has-wpcom-media-url-upload");const o=document.createElement("div");return o.id=l,t.parentNode.insertBefore(o,t.nextSibling),void s()}if(window.wp?.media?.view?.UploaderInline){const e=window.wp.media.view.UploaderInline;window.wp.media.view.UploaderInline=e.extend({ready:function(){e.prototype.ready.apply(this,arguments),this.options.canClose||s()},show:function(){e.prototype.show.apply(this,arguments),s()},hide:function(){e.prototype.hide.apply(this,arguments),(()=>{const e=document.getElementById(l);e&&(e.innerHTML="")})()}})}}))})();;
